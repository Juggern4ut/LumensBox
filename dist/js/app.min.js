function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}window.addEventListener("load",function(){var t=document.getElementById("trigger");if(t){var e=new LumensBox({animationDuration:500,openAnimation:"jelly",closeAnimation:"shrink"});e.setTitle("Lightbox Title");var n=document.createElement("p");n.innerHTML="You can close the box by pressing 'ESC', clicking the X in the top right or press the close button below.";var i=document.createElement("button");i.innerHTML="Close",i.onclick=function(){return e.close()},t.onclick=function(){e.setContent([n,i]),e.open()}}});var LumensBox=function(){function n(t){var e=this;_classCallCheck(this,n),t=t||{},this.setDefaultSettings(),this.updateSettings(t),this.container=document.createElement("div"),this.container.classList.add("lightbox"),t.additionalClasses&&t.additionalClasses.length&&t.additionalClasses.forEach(function(t){e.container.classList.add(t)}),this.inner=document.createElement("div"),this.inner.classList.add("lightbox__inner"),this.inner.classList.add("lightbox__inner--".concat(this.options.openAnimation)),this.inner.style.animationDuration=this.options.animationDuration+"ms",this.closeHandler=document.createElement("div"),this.closeHandler.classList.add("lightbox__close-handler"),this.title=document.createElement("p"),this.title.classList.add("lightbox__title"),this.options.draggable&&(this.title.style.cursor="move"),this.closeHandler.onclick=function(){e.close()},this.data=document.createElement("div"),this.data.classList.add("lightbox__data"),this.options.noCloseHandler||this.inner.append(this.closeHandler),this.inner.append(this.title),this.inner.append(this.data),this.container.append(this.inner),document.querySelector("body").append(this.container),this.options.noCloseByEscape||this.setEscapeKeyToCloseLightbox(),this.options.draggable&&this.draggableLightbox()}return _createClass(n,[{key:"setEscapeKeyToCloseLightbox",value:function(){var e=this;document.addEventListener("keydown",function(t){27===t.keyCode&&e.close()})}},{key:"draggableLightbox",value:function(){var i=this;this.isDragging=!1,this.currentTop=0,this.currentLeft=0,this.title.addEventListener("mousedown",function(t){i.isDragging=!0,i.initialDragX=t.pageX,i.initialDragY=t.pageY}),document.querySelector("body").addEventListener("mousemove",function(t){if(!i.isDragging)return!1;var e=t.pageY-i.initialDragY+i.currentTop,n=t.pageX-i.initialDragX+i.currentLeft;i.inner.style.top="".concat(e,"px"),i.inner.style.left="".concat(n,"px")}),document.querySelector("body").addEventListener("mouseup",function(){if(!i.isDragging)return!1;i.isDragging=!1,i.currentTop=parseInt(i.inner.style.top),i.currentLeft=parseInt(i.inner.style.left),i.currentTop=i.currentTop?i.currentTop:0,i.currentLeft=i.currentLeft?i.currentLeft:0,i.keepInBounds(20)})}},{key:"resetPosition",value:function(){this.options.draggable&&(this.inner.style.top=0,this.inner.style.left=0,this.currentLeft=0,this.currentTop=0)}},{key:"open",value:function(){var t=this;this.options.open(),this.resetPosition(),this.container.classList.add("lightbox--open"),document.querySelector("body, html").style.overflow="hidden",setTimeout(function(){t.options.opened()},this.options.animationDuration)}},{key:"close",value:function(){var t=this;this.options.close(),this.inner.classList.add("lightbox__inner--".concat(this.options.closeAnimation)),setTimeout(function(){t.container.classList.remove("lightbox--open"),document.querySelector("body, html").style.overflow="auto",t.inner.classList.remove("lightbox__inner--".concat(t.options.closeAnimation)),t.options.closed()},this.options.animationDuration)}},{key:"keepInBounds",value:function(t){var e={wentAbove:!1,wentBelow:!1,wentLeft:!1,wentRight:!1};if(this.inner.offsetTop<0){var n=this.currentTop+Math.abs(this.inner.offsetTop)+t;this.inner.style.top=n+"px",this.currentTop=n,e.wentAbove=!0}else if(this.inner.offsetTop+this.inner.offsetHeight>window.innerHeight){var i=this.inner.offsetTop+this.inner.offsetHeight+t,o=window.innerHeight-i,s=this.currentTop+o;this.inner.style.top=s+"px",this.currentTop=s;var r=-1*(parseInt(window.getComputedStyle(this.inner,null).getPropertyValue("margin-top"))-t);this.currentTop<r&&(this.currentTop=r,this.inner.style.top=r+"px"),e.wentBelow=!0}if(this.inner.offsetLeft<0){var a=this.currentLeft+Math.abs(this.inner.offsetLeft)+t;this.inner.style.left=a+"px",this.currentLeft=a,e.wentLeft=!0}else if(this.inner.offsetLeft+this.inner.offsetWidth>window.innerWidth){var l=this.inner.offsetLeft+this.inner.offsetWidth+t,c=window.innerWidth-l,h=this.currentLeft+c;this.inner.style.left=h+"px",this.currentLeft=h;var u=-1*(parseInt(window.getComputedStyle(this.inner,null).getPropertyValue("margin-left"))-t);this.currentLeft<u&&(this.currentLeft=u,this.inner.style.left=u+"px"),e.wentRight=!0}return e}},{key:"setContent",value:function(t){var e=this;this.data.innerHTML="","object"===_typeof(t)?t.length?t.forEach(function(t){e.data.append(t)}):this.data.append(t):this.data.innerHTML=t}},{key:"setTitle",value:function(t){t=t||"",this.title.innerHTML=t}},{key:"setDefaultSettings",value:function(){this.options={},this.options.additionalClasses=[],this.options.draggable=!0,this.options.noCloseHandler=!1,this.options.noCloseByEscape=!1,this.options.openAnimation="fadein",this.options.closeAnimation="fadeout",this.options.animationDuration=500,this.options.open=function(){},this.options.opened=function(){},this.options.close=function(){},this.options.closed=function(){}}},{key:"updateSettings",value:function(t){for(var e in t)if(t.hasOwnProperty(e))if("object"===_typeof(t[e])){var n=t[e];for(var i in n)n.hasOwnProperty(i)&&(this.options[e][i]=n[i])}else this.options[e]=t[e]}}]),n}();
//# sourceMappingURL=../maps/app.min.js.map
